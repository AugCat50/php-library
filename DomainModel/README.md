# DomainModel
OOP Patterns

Любая система, которая обращается к базе данных, должна формировать запросы, но сама система организована вокруг объектов предметной области и
логики приложения, а не базы данных. Задача этой системы наводить мосты между табличной базой данных и более
естественными древовидными структурами предметной области.


Модели - отображение сущностей БД в объектах предметной области в системе. Имеют схожую структуру, хотя и не обязаны. В свойствах хранят данные из соответствующих столбцов таблицы. Имеют методы для работы с этими свойствами, set, get

Mapper - мапперы, это классы для работы с БД. Имеют в себе подготовленные SQL операторы, осуществляют insert, update, select и прочие запросы к БД. Получают сырые данные из БД.

DomainObjectFactory - классы, которые превращают сырые данные, полученные мапперами или хранимые в коллекциях в объекты модели. Соответственно, мапперы и коллекции пользуются этими фабриками. Так же работают с ObjectWatcher, добавляя собранные объекты в его хранилище или беря оттуда объект модели, если он уже был создан ранее.

Объекты типа DomainObjectFactory отделены от базы данных, поэтому
их можно более эффективно использовать для тестирования. Например, можно
создать имитирующий объект типа DomainObj ectFactory, чтобы протестировать исходный код класса Collection. Сделать это намного проще, чем имитировать целый объект типа Mapper

ObjectWatcher - следит за уникальностью объектов в системе, сохраняя их с уникальными ключами у себя в массиве. Так же инициирует работу с БД, если применяется шаблон Unit of Work. А он здесь применяется.

Коллекции - более функциональная замена массивам. Хранит в себе массив сырых данных, и генерирует с помощью фабрик из них объекты моделей, при необходимости. В реляционной БД более старшие объекты могут содержать коллекции других объектов. Коллекции могут не содержать объекты до момента, когда они потребуются, используется шаблон Lazy Load